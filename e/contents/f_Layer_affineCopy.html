<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- generated by to_html.pl from f_Layer.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>affineCopy - Affine transformation copy</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="funcref.css" type="text/css" rel="stylesheet" title="クラスリファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="トップページ" />
	<link href="f_Layer.html" title="Layerクラス" rel="Parent" />
</head>
<body>
<h1><span class="fheader"><a name="top" id="top">Layer.affineCopy</a></span></h1><div class="para"><div>
<dl>
<dt>機能/意味</dt>
<dd>
Affine transformation copy</dd>
<dt>タイプ</dt>
<dd>
<a class="jump" href="f_Layer.html">Layerクラス</a>のメソッド<br />
</dd>
<dt>構文</dt>
<dd>
<span class="funcdecl">affineCopy(<span class="arg">src</span>, <span class="arg">sleft</span>, <span class="arg">stop</span>, <span class="arg">swidth</span>, <span class="arg">sheight</span>, <span class="arg">affine</span>, <span class="arg">A</span>, <span class="arg">B</span>, <span class="arg">C</span>, <span class="arg">D</span>, <span class="arg">E</span>, <span class="arg">F</span>, <span class="arg">type</span><span class="defarg">=<span class="defargval">stNearest</span></span>, <span class="arg">clear</span><span class="defarg">=<span class="defargval">false</span></span>)</span><br />
</dd>
<dt>引数</dt>
<dd>
<table rules="all" frame="box" cellpadding="3" summary="affineCopy の引数">
<tr><td valign="top"><span class="argname">src</span></td>
<td>				　Specify the copy source layer object.<br />
				　Bitmap class objects can also be specified. (1.1.0 or later)<br />
			</td></tr>
<tr><td valign="top"><span class="argname">sleft</span></td>
<td>				　Specifies the left edge of the rectangle to be copied in pixels (at the image position of the source layer).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">stop</span></td>
<td>				　Specifies the top edge of the rectangle to be copied in pixels (at the image position of the source layer).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">swidth</span></td>
<td>				　Specifies the width of the rectangle to be copied in pixels (at the image position of the source layer).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">sheight</span></td>
<td>				　Specifies the height of the rectangle to be copied in pixels (at the image position of the source layer).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">affine</span></td>
<td>				　Specify how to handle the following six arguments (A to F parameters).<br />
				　If you specify true, each of the six parameters is interpreted as follows:<br />
				<span class="script">A   : A of the 2D affine transformation matrix</span><br />
				<span class="script">B   : B of the 2D affine transformation matrix</span><br />
				<span class="script">C   : C of the 2D affine transformation matrix</span><br />
				<span class="script">D   : D of the 2D affine transformation matrix</span><br />
				<span class="script">E   : Tx of the 2D affine transformation matrix</span><br />
				<span class="script">F   : Ty of the 2D affine transformation matrix</span><br />
				<br />
				　By the affine transformation, the image position (x, y) of the copy source (where the upper left corner of the copy source rectangle is (0, 0)) is calculated by the following equation using the image position (x', y') of the copy destination.<br />
				x' =  a*x + c*y + tx<br />
				y' =  b*x + d*y + ty<br />
				<br />
				　If false is specified, each of the six parameters is interpreted as follows: These parameters also accept real numbers.<br />
				<span class="script">A   : X coordinate position (x0) of the upper left corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">B   : Y coordinate position (y0) of the upper left corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">C   : X coordinate position (x1) of the upper right corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">D   : Y coordinate position (y1) of the upper right corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">E   : X coordinate position (x2) of the lower left corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">F   : Y coordinate position (y2) of the lower left corner of the source rectangle in the image position at the destination</span><br />
				<br />
				　If false is specified, the copy destination position (x3, y3) corresponding to the lower right corner of the copy source is automatically calculated by the following formula.<br />
				x3 = x1 - x0 + x2<br />
				y3 = y1 - y0 + y2<br />
			</td></tr>
<tr><td valign="top"><span class="argname">A</span></td>
<td>				　A parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">B</span></td>
<td>				　B parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">C</span></td>
<td>				　C parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">D</span></td>
<td>				　D parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">E</span></td>
<td>				　The E parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">F</span></td>
<td>				　The F parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">type</span></td>
<td>				　Specifies the type of affine transformation.<br />
				<span class="script"><a class="targanchor" name="id326" id="id326">stNearest</a>    </span> : Nearest neighbor method is used<br />
				<span class="script"><a class="targanchor" name="id327" id="id327">stFastLinear</a> </span> : Low-precision linear interpolation is used (partially implemented)<br />
				<span class="script"><a class="targanchor" name="id328" id="id328">stLinear</a>     </span> : Linear interpolation is used (not implemented)<br />
				<span class="script"><a class="targanchor" name="id329" id="id329">stCubic</a>      </span> : 3D interpolation is used (not implemented)<br />
				　For stFastLinear, stLinear, and stCubic, stRefNoClip can be additionally specified by bitwise OR, and in this case, it is allowed to refer to outside the area of the bitmap to be copied and combine colors. If this is not specified, there will be no reference outside the range of the source bitmap, even if there is room around the source bitmap. Is considered a color).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">clear</span></td>
<td>				　Specifies whether to clear around the affine-transformed image of the destination layer with the color and transparency indicated by the <a class="jump" href="f_Layer_neutralColor.html">Layer.neutralColor</a> property. If you specify true, it will be cleared. If you omit this argument or pass false, it will not be cleared.<br />
				　The area to be cleared can be limited by the <a class="jump" href="f_Layer_setClip.html">Layer.setClip</a> method.<br />
				　When this clear function is used, when the transfer destination layer is cleared and the image is overwritten and transferred by affine transformation, the area to be overwritten (the part overwritten by affine transformation in the cleared place) is wasted. Can be omitted.<br />
			</td></tr>
</table>
</dd>
<dt>戻り値</dt>
<dd>
なし (void)<br />
</dd>
<dt>説明</dt>
<dd>
		　Copies the rectangle of the specified copy source layer to the copy destination (layer where the method is executed) while performing affine transformation.<br />
		　With the affine argument, you can choose whether to specify a two-dimensional affine transformation matrix as the deformation parameter or directly specify the transformed point.<br />
		　In the current version, linear interpolation is effective when stFastLinear is specified when the <a class="jump" href="f_Layer_face.html">Layer.face</a> property of the layer to be overlaid (executing the method) is dfAlpha (or dfBoth) or dfAddAlpha. Also, when the Layer.face property is dfOpaque and the <a class="jump" href="f_Layer_holdAlpha.html">Layer.holdAlpha</a> property is false, linear interpolation is possible.<br />
		　If the <a class="jump" href="f_Layer_face.html">Layer.face</a> property of the destination layer (executing the method) is dfAlpha (or dfBoth) or dfAddAlpha, both the main and mask images are copied.<br />
		　If the Layer.face property of the layer to be superimposed (executing the method) is dfOpaque (or dfMain), only the main image is copied when the <a class="jump" href="f_Layer_holdAlpha.html">Layer.holdAlpha</a> property is true, and when the <a class="jump" href="f_Layer_holdAlpha.html">Layer.holdAlpha</a> property is false, the main image and mask image are copied. Both are copied.<br />
		<br />
		　The transformation using the 2D affine transformation matrix is defined as follows, with the origin (0, 0) at the upper left corner of the source rectangle.<br />
		<img width="222" height="77" src="2DAffineMatrix.png" /><br />
		　By performing a two-dimensional affine transformation, you can scale, rotate, shear (tilt), translate, flip, or any combination of these.<br />
		　In the method that performs 2D affine transformation, you can specify the transformation by directly specifying each transformed vertex instead of the 2D affine matrix, but even in this case, perform transformation that can not be defined by 2D affine transformation You can not.<br />
		<br />
		　For affine transformations, pixels are assumed to have a size of 1.0 x 1.0. That is, the pixel at (0, 0) is considered to be in the range (-0.5, -0.5)-(0.5, 0.5).<br />
	</dd>
</dl>
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
