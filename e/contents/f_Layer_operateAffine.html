<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- generated by to_html.pl from f_Layer.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>operateAffine - Affine transform arithmetic synthesis</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="funcref.css" type="text/css" rel="stylesheet" title="クラスリファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="トップページ" />
	<link href="f_Layer.html" title="Layerクラス" rel="Parent" />
</head>
<body>
<h1><span class="fheader"><a name="top" id="top">Layer.operateAffine</a></span></h1><div class="para"><div>
<dl>
<dt>機能/意味</dt>
<dd>
Affine transform arithmetic synthesis</dd>
<dt>タイプ</dt>
<dd>
<a class="jump" href="f_Layer.html">Layerクラス</a>のメソッド<br />
</dd>
<dt>構文</dt>
<dd>
<span class="funcdecl">operateAffine(<span class="arg">src</span>, <span class="arg">sleft</span>, <span class="arg">stop</span>, <span class="arg">swidth</span>, <span class="arg">sheight</span>, <span class="arg">affine</span>, <span class="arg">A</span>, <span class="arg">B</span>, <span class="arg">C</span>, <span class="arg">D</span>, <span class="arg">E</span>, <span class="arg">F</span>, <span class="arg">mode</span><span class="defarg">=<span class="defargval">omAuto</span></span>, <span class="arg">opa</span><span class="defarg">=<span class="defargval">255</span></span>, <span class="arg">type</span><span class="defarg">=<span class="defargval">stNearest</span></span>)</span><br />
</dd>
<dt>引数</dt>
<dd>
<table rules="all" frame="box" cellpadding="3" summary="operateAffine の引数">
<tr><td valign="top"><span class="argname">src</span></td>
<td>				　Specify the layer object to be superimposed.<br />
				　Bitmap class objects can also be specified. (1.1.0 or later)<br />
			</td></tr>
<tr><td valign="top"><span class="argname">sleft</span></td>
<td>				　Specifies the left edge of the rectangle to be overlaid in pixels (at the image position of the overlay source layer).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">stop</span></td>
<td>				　Specifies the top position of the rectangle to be overlaid in pixels (at the image position of the overlay source layer).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">swidth</span></td>
<td>				　Specifies the width of the overlapping rectangle in pixels (at the image position of the source layer).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">sheight</span></td>
<td>				　Specifies the vertical width of the rectangle to be overlaid in pixels (at the image position of the overlay source layer).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">affine</span></td>
<td>				　Specify how to handle the following six arguments (A to F parameters).<br />
				　If you specify true, each of the six parameters is interpreted as follows:<br />
				<span class="script">A   : A of the 2D affine transformation matrix</span><br />
				<span class="script">B   : B of the 2D affine transformation matrix</span><br />
				<span class="script">C   : C of the 2D affine transformation matrix</span><br />
				<span class="script">D   : D of the 2D affine transformation matrix</span><br />
				<span class="script">E   : Tx of the 2D affine transformation matrix</span><br />
				<span class="script">F   : Ty of the 2D affine transformation matrix</span><br />
				<br />
				　By the affine transformation, the image position (x, y) of the superimposition source (where the upper left corner of the rectangle of the superimposition source is (0, 0)) is calculated by the following equation using the image position (x', y').<br />
				x' =  a*x + c*y + tx<br />
				y' =  b*x + d*y + ty<br />
				<br />
				　If false is specified, each of the six parameters is interpreted as follows:<br />
				<span class="script">A   : X coordinate position (x0) of the upper left corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">B   : Y coordinate position (y0) of the upper left corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">C   : X coordinate position (x1) of the upper right corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">D   : Y coordinate position (y1) of the upper right corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">E   : X coordinate position (x2) of the lower left corner of the source rectangle in the image position at the destination</span><br />
				<span class="script">F   : Y coordinate position (y2) of the lower left corner of the source rectangle in the image position at the destination</span><br />
				<br />
				　If false is specified, the overlay destination position (x3, y3) corresponding to the lower right corner of the overlay source is automatically calculated by the following formula.<br />
				x3 = x1 - x0 + x2<br />
				y3 = y1 - y0 + y2<br />
			</td></tr>
<tr><td valign="top"><span class="argname">A</span></td>
<td>				　A parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">B</span></td>
<td>				　B parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">C</span></td>
<td>				　C parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">D</span></td>
<td>				　D parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">E</span></td>
<td>				　The E parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">F</span></td>
<td>				　The F parameter. The interpretation depends on the affine argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">mode</span></td>
<td>				　Specify the operation mode.<br />
				If <span class="script"><a class="targanchor" name="id330" id="id330">omAuto</a></span> is specified, the type of operation will be automatically determined according to the <a class="jump" href="f_Layer_type.html">Layer.type</a> properties of the source layer.<br />
				If <span class="script"><a class="targanchor" name="id331" id="id331">omPsNormal</a></span> is specified, Photoshop compatible alpha compositing is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id332" id="id332">omPsAdditive</a></span> is specified, dodge (linear) synthesis compatible with Photoshop is performed (not implemented in the current version).<br />
				When <span class="script"><a class="targanchor" name="id333" id="id333">omPsSubtractive</a></span> is specified, burn-in (linear) synthesis compatible with Photoshop is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id334" id="id334">omPsMultiplicative</a></span> is specified, Photoshop compatible multiplication will be performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id335" id="id335">omPsScreen</a></span> is specified, Photoshop compatible screen composition is performed (not implemented in the current version).<br />
				When <span class="script"><a class="targanchor" name="id336" id="id336">omPsOverlay</a></span> is specified, overlay compatible with Photoshop is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id337" id="id337">omPsHardLight</a></span> is specified, Photoshop compatible hard light composition will be performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id338" id="id338">omPsSoftLight</a></span> is specified, Photoshop compatible soft light synthesis is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id339" id="id339">omPsColorDodge</a></span> is specified, dodge color composition compatible with Photoshop is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id340" id="id340">omPsColorDodge5</a></span> is specified, dodging color composition compatible with Photoshop version 5.x or lower is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id341" id="id341">omPsColorBurn</a></span> is specified, burn-in color composition compatible with Photoshop is performed (not implemented in the current version).<br />
				When <span class="script"><a class="targanchor" name="id342" id="id342">omPsLighten</a></span> is specified, comparison (bright) composition compatible with Photoshop is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id343" id="id343">omPsDarken</a></span> is specified, comparison (dark) composition compatible with Photoshop is performed (not implemented in the current version).<br />
				When <span class="script"><a class="targanchor" name="id344" id="id344">omPsDifference</a></span> is specified, the absolute value of the difference compatible with Photoshop is synthesized (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id345" id="id345">omPsDifference5</a></span> is specified, the absolute value of the difference in compatibility with Photoshop version 5.x or less will be synthesized (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id346" id="id346">omPsExclusion</a></span> is specified, Photoshop compatible exclusion synthesis will be performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id347" id="id347">omAdditive</a></span> is specified, addition synthesis is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id348" id="id348">omSubtractive</a></span> is specified, subtraction synthesis is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id349" id="id349">omMultiplicative</a></span> is specified, multiplication will be performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id350" id="id350">omDodge</a></span> is specified, dodging synthesis is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id351" id="id351">omDarken</a></span> is specified, comparison (dark) synthesis is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id352" id="id352">omLighten</a></span> is specified, comparison (bright) synthesis is performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id353" id="id353">omScreen</a></span> is specified, screen multiplication will be performed (not implemented in the current version).<br />
				If <span class="script"><a class="targanchor" name="id354" id="id354">omAlpha</a></span> is specified, alpha synthesis will be performed.<br />
				If <span class="script"><a class="targanchor" name="id355" id="id355">omAddAlpha</a></span> is specified, additive alpha synthesis is performed. In this case, when the destination <a class="jump" href="f_Layer_face.html">Layer.face</a> property is dfOpaque and the <a class="jump" href="f_Layer_holdAlpha.html">Layer.holdAlpha</a> property is false, linear interpolation can be performed by specifying stFastLinear in the type argument.<br />
				If <span class="script"><a class="targanchor" name="id356" id="id356">omOpaque</a></span> is specified, the alpha information of src is ignored, and src is always assumed to be completely opaque. In this case, when the destination <a class="jump" href="f_Layer_face.html">Layer.face</a> property is dfOpaque and the <a class="jump" href="f_Layer_holdAlpha.html">Layer.holdAlpha</a> property is false, linear interpolation can be performed by specifying stFastLinear in the type argument.<br />
			</td></tr>
<tr><td valign="top"><span class="argname">opa</span></td>
<td>				　Specifies the opacity of the overlay (0-255).<br />
			</td></tr>
<tr><td valign="top"><span class="argname">type</span></td>
<td>				　Specifies the type of affine transformation.<br />
				<span class="script"><a class="targanchor" name="id357" id="id357">stNearest</a>    </span> : Nearest neighbor method is used<br />
				<span class="script"><a class="targanchor" name="id358" id="id358">stFastLinear</a> </span> : Low-precision linear interpolation is used (partially implemented)<br />
				<span class="script"><a class="targanchor" name="id359" id="id359">stLinear</a>     </span> : Linear interpolation is used (not implemented)<br />
				<span class="script"><a class="targanchor" name="id360" id="id360">stCubic</a>      </span> : 3D interpolation is used (not implemented)<br />
				　The speed is higher in the order of stNearest&gt; stFastLinear&gt; stLinear&gt; stCubic, but the higher the speed, the lower the quality in the faster mode.<br />
				　For stFastLinear, stLinear, and stCubic, stRefNoClip can be additionally specified by bitwise OR, and in this case, it is allowed to refer to outside the area of the bitmap to be copied and combine colors. If this is not specified, there will be no reference outside the range of the source bitmap, even if there is room around the source bitmap. Is considered a color).<br />
			</td></tr>
</table>
</dd>
<dt>戻り値</dt>
<dd>
なし (void)<br />
</dd>
<dt>説明</dt>
<dd>
		　Performs arithmetic synthesis on the rectangle of the specified overlay source layer while performing affine transformation on the overlay destination (layer on which the method is executed).<br />
		　See also <a class="jump" href="f_Layer_affineCopy.html">Layer.affineCopy</a> for affine transformations.<br />
		　When omAuto is specified for mode, the type of operation is automatically determined according to the <a class="jump" href="f_Layer_type.html">Layer.type</a> property of the source layer.<br />
	</dd>
</dl>
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
